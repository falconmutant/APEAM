# Generated by Django 2.1.2 on 2018-10-18 00:01

from django.conf import settings
import django.contrib.postgres.fields.jsonb
import django.contrib.postgres.search
from django.db import migrations, models
import django.db.models.deletion


class Migration(migrations.Migration):

    initial = True

    dependencies = [
        migrations.swappable_dependency(settings.AUTH_USER_MODEL),
    ]

    operations = [
        migrations.CreateModel(
            name='Contact',
            fields=[
                ('id', models.AutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('type', models.CharField(choices=[('T', 'Twitter'), ('F', 'Facebook'), ('W', 'Whatsapp'), ('J', 'Telefono Fijo'), ('C', 'Celular')], max_length=1, null=True)),
                ('contact', models.TextField()),
            ],
        ),
        migrations.CreateModel(
            name='Farm',
            fields=[
                ('id', models.AutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('hectares', models.FloatField()),
            ],
        ),
        migrations.CreateModel(
            name='Farmer',
            fields=[
                ('id', models.AutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('last_name', models.TextField()),
                ('last_name2', models.TextField()),
                ('name', models.TextField()),
                ('gender', models.CharField(choices=[('S', 'Soltero(a)'), ('C', 'Casado(a)'), ('D', 'Divorciado(a)'), ('V', 'Viudo(a)')], max_length=1, null=True)),
                ('photo', models.ImageField(null=True, upload_to='')),
                ('address', django.contrib.postgres.fields.jsonb.JSONField(null=True)),
                ('search', django.contrib.postgres.search.SearchVectorField(null=True)),
                ('alive', models.BooleanField(default=True)),
                ('contact', models.ManyToManyField(to='api.Contact')),
                ('farm', models.ManyToManyField(to='api.Farm')),
            ],
        ),
        migrations.CreateModel(
            name='InboundMessage',
            fields=[
                ('id', models.AutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('date', models.DateTimeField()),
                ('message', models.TextField()),
                ('sender', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='api.Farmer')),
            ],
        ),
        migrations.CreateModel(
            name='Logger',
            fields=[
                ('id', models.AutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('type', models.CharField(choices=[('C', 'Created'), ('M', 'Modify'), ('D', 'Deleted')], max_length=1, null=True)),
                ('table', models.CharField(choices=[('PR', 'Profile'), ('FM', 'Farm'), ('CO', 'Contact'), ('FA', 'Farmer'), ('TM', 'TemplateMessage'), ('OM', 'OutboundMessage'), ('OF', 'OutboundFarmer'), ('IM', 'InboundMessage')], max_length=1, null=True)),
                ('table_id', models.IntegerField()),
                ('before', django.contrib.postgres.fields.jsonb.JSONField(null=True)),
                ('after', django.contrib.postgres.fields.jsonb.JSONField(null=True)),
                ('user', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to=settings.AUTH_USER_MODEL)),
            ],
        ),
        migrations.CreateModel(
            name='OutboundFarmer',
            fields=[
                ('id', models.AutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('farmer', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='api.Farmer')),
            ],
        ),
        migrations.CreateModel(
            name='OutboundMessage',
            fields=[
                ('id', models.AutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('name', models.TextField()),
                ('date', models.DateTimeField()),
                ('sender', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to=settings.AUTH_USER_MODEL)),
            ],
        ),
        migrations.CreateModel(
            name='TemplateMessage',
            fields=[
                ('id', models.AutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('name', models.TextField()),
                ('text', models.TextField()),
            ],
        ),
        migrations.AddField(
            model_name='outboundmessage',
            name='template',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='api.TemplateMessage'),
        ),
        migrations.AddField(
            model_name='outboundfarmer',
            name='out',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, to='api.OutboundMessage'),
        ),
    ]
